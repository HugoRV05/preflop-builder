<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Preflop Builder</title>
    <meta name="description" content="Master your preflop ranges in 5-max No-Limit Hold'em. Practice and edit poker preflop strategies.">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    <link rel="icon" href="assets/logogris1024.ico" type="image/x-icon">
    <link rel="shortcut icon" href="assets/logogris1024.ico" type="image/x-icon">
    
    <!-- Apple iOS PWA Support -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Preflop Builder">
    <link rel="apple-touch-icon" href="assets/icon-192.png">
    <link rel="apple-touch-icon" sizes="180x180" href="assets/apple-icon-180.png">

    
    <!-- Microsoft Windows PWA Support -->
    <meta name="msapplication-TileColor" content="#00d4ff">
    <meta name="msapplication-config" content="browserconfig.xml">
    
    <!-- Theme Colors -->
    <meta name="theme-color" content="#00d4ff">
    <meta name="msapplication-navbutton-color" content="#00d4ff">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
    <!-- Development: Prevent caching -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    
    <!-- Preload Critical Resources -->
    <link rel="preload" href="css/styles.css?v=2.0.4" as="style">
    <link rel="preload" href="js/main.js?v=2.0.4" as="script">
    <link rel="preload" href="assets/default-preflop-ranges-v1.json" as="fetch" crossorigin>
    
    <!-- Stylesheets -->
    <link rel="stylesheet" href="css/styles.css?v=2.0.4">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://api.fontshare.com/v2/css?f[]=clash-display@400,500,600,700&f[]=switzer@300,400,500,600,700,800,900&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Mobile PWA Splash Screen -->
    <div id="pwa-splash-screen" class="pwa-splash-screen">
        <img src="assets/logogris1024.png" alt="Preflop Builder" class="splash-logo">
    </div>
    
    <!-- Page Transition Overlay -->
    <div class="page-transition-overlay" id="transition-overlay"></div>
    <!-- Header -->
    <header class="header">
        <div class="header-container">
            <!-- Left Navigation -->
            <div class="header-left">
                <button class="nav-btn" id="edit-ranges-nav">
                    <img src="assets/ranges_icon.png" alt="" class="nav-btn-icon"> Edit Ranges
                </button>
                <button class="nav-btn" id="practice-nav">
                    <img src="assets/practice_icon.png" alt="" class="nav-btn-icon"> Practice
                </button>
            </div>
            
            <!-- Center Title -->
            <div class="header-center">
                <h1 class="header-title" id="home-btn">Preflop Builder</h1>
            </div>
            
            <!-- Right Navigation -->
            <div class="header-right">
                <div class="dropdown">
                    <button class="dropdown-btn">‚öôÔ∏è Settings</button>
                    <div class="dropdown-content">
                        <a href="#" id="settings-link">‚öôÔ∏è Settings</a>
                        <a href="#" id="import-export-link">üìÅ Import/Export</a>
                    </div>
                </div>
                <div class="dropdown">
                    <button class="dropdown-btn">üë§ Profile</button>
                    <div class="dropdown-content">
                        <a href="#" id="account-link">üè† My Account</a>
                        <a href="#" id="statistics-link">üë§ Profile</a>
                        <a href="#" id="logout-link">üö™ Logout</a>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content Container -->
    <main class="main-content">
        
        <!-- Landing Page -->
        <section id="landing-page" class="page active">
            <div class="landing-container">
                <!-- Mobile Floating Header: Logo, Name (left), Settings (right) - Mobile Only -->
                <div class="mobile-floating-header">
                    <img src="assets/logosinfondo500.png" alt="Preflop Builder Logo" class="floating-logo">
                    <span class="floating-title">Preflop Builder</span>
                    <button class="floating-settings-btn" id="mobile-floating-settings" aria-label="Settings">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"></path>
                            <circle cx="12" cy="12" r="3"></circle>
                        </svg>
                    </button>
                </div>
                <!-- Floating Geometric Shapes -->
                <div class="floating-shape floating-shape-1"></div>
                <div class="floating-shape floating-shape-2"></div>
                <div class="floating-shape floating-shape-3"></div>
                <div class="floating-shape floating-shape-4"></div>
                <div class="floating-shape floating-shape-5"></div>
                <div class="floating-shape floating-shape-6"></div>
                <div class="floating-shape floating-shape-7"></div>
                
                <div class="landing-header">
                     <h2>Welcome To<br>Preflop Builder</h2>
                     <p>Master your preflop ranges</p>
                  </div>
                
                <div class="mobile-landing-content">
                    <div class="landing-buttons">
                        <button class="landing-btn edit-btn" id="landing-edit-ranges">
                            <div class="btn-icon">
                                <img src="assets/ranges_icon.png" alt="Edit Ranges" class="landing-btn-icon">
                            </div>
                            <div class="btn-text">
                                <h3>Edit Ranges</h3>
                                <p>Configure preflop ranges for each position</p>
                            </div>
                        </button>
                        
                        <button class="landing-btn practice-btn" id="landing-practice">
                            <div class="btn-icon">
                                <img src="assets/practice_icon.png" alt="Practice" class="landing-btn-icon">
                            </div>
                            <div class="btn-text">
                                <h3>Practice</h3>
                                <p>Test your decisions</p>
                            </div>
                        </button>
                    </div>
                </div>

                <!-- Mobile Dashboard Content (visible only on mobile max-width 430px) -->
                <div class="mobile-dashboard-content">
                    <!-- Quick Practice Button -->
                    <button class="quick-practice-btn" id="quick-practice-btn">
                        <div class="quick-practice-icon">
                            <img src="assets/practice_icon.png" alt="Quick Practice" class="quick-practice-icon-img">
                        </div>
                        <h3>Quick Practice</h3>
                        <p>Start with last settings</p>
                    </button>

                    <!-- Pre-Made Sessions Grid -->
                    <div class="sessions-section">
                        <h3 class="sessions-title">Pre-Made Sessions</h3>
                        <div class="sessions-grid" id="sessions-grid">
                            <!-- Session cards will be populated by JavaScript -->
                        </div>
                        <p class="sessions-max-message" id="sessions-max-message" style="display: none;">
                            The maximum number of pre-made sessions have been added
                        </p>
                    </div>
                </div>
            </div>

            <!-- Features Section -->
            <section class="landing-features">
                <!-- Floating shapes for features section -->
                <div class="floating-shape floating-shape-8"></div>
                <div class="floating-shape floating-shape-9"></div>
                <div class="floating-shape floating-shape-10"></div>
                
                <div class="features-container">
                    <h2>Powerful Features</h2>
                    <div class="features-grid">
                        <div class="feature-card">
                            <div class="feature-icon">‚ö°</div>
                            <h3>Lightning Fast</h3>
                            <p>Instant range calculations and real-time practice feedback to accelerate your learning.</p>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">
                                <img src="assets/practice_icon.png" alt="" class="feature-icon-img">
                            </div>
                            <h3>Precision Training</h3>
                            <p>Practice with exact scenarios you'll face at the tables. Perfect your decision-making process.</p>
                        </div>
                        
                        <div class="feature-card">
                            <div class="feature-icon">üîß</div>
                            <h3>Customizable Ranges</h3>
                            <p>Build and save your own preflop ranges or import proven strategies from pros.</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Why Choose Us Section -->
            <section class="landing-why-choose">
                <!-- Floating shapes for why choose section -->
                <div class="floating-shape floating-shape-11"></div>
                <div class="floating-shape floating-shape-12"></div>
                <div class="floating-shape floating-shape-20"></div>
                <div class="floating-shape floating-shape-21"></div>
                
                <div class="why-choose-container">
                    <div class="why-choose-content">
                        <div class="why-choose-text">
                            <h2>Why Choose Preflop Builder?</h2>
                            <p>The most comprehensive preflop training platform designed by poker professionals for serious players.</p>
                            <div class="benefits-list">
                                <div class="benefit-item">
                                    <div class="benefit-check">‚úì</div>
                                    <span>Used by 10,000+ winning players worldwide</span>
                                </div>
                                <div class="benefit-item">
                                    <div class="benefit-check">‚úì</div>
                                    <span>Based on GTO solver solutions</span>
                                </div>
                                <div class="benefit-item">
                                    <div class="benefit-check">‚úì</div>
                                    <span>Regular updates with latest strategies</span>
                                </div>
                                <div class="benefit-item">
                                    <div class="benefit-check">‚úì</div>
                                    <span>Mobile-friendly design for practice anywhere</span>
                                </div>
                            </div>
                        </div>
                        <div class="why-choose-visual">
                            <div class="stats-showcase">
                                <div class="stat-item">
                                    <div class="stat-number">98%</div>
                                    <div class="stat-label">Accuracy Rate</div>
                                </div>
                                <div class="stat-item">
                                    <div class="stat-number">50K+</div>
                                    <div class="stat-label">Hands Trained</div>
                                </div>
                                <div class="stat-item">
                                    <div class="stat-number">24/7</div>
                                    <div class="stat-label">Available</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Showcase Section -->
            <section class="landing-showcase">
                <!-- Floating shapes for showcase section -->
                <div class="floating-shape floating-shape-13"></div>
                <div class="floating-shape floating-shape-14"></div>
                <div class="floating-shape floating-shape-22"></div>
                <div class="floating-shape floating-shape-23"></div>
                
                <div class="showcase-container">
                    <h2>See It In Action</h2>
                    <div class="showcase-grid">
                        <div class="showcase-item">
                            <div class="showcase-preview">
                                <div class="preview-placeholder">
                                    <div class="preview-grid">
                                        <div class="grid-cell"></div>
                                        <div class="grid-cell active"></div>
                                        <div class="grid-cell"></div>
                                        <div class="grid-cell active"></div>
                                        <div class="grid-cell"></div>
                                        <div class="grid-cell active"></div>
                                    </div>
                                </div>
                            </div>
                            <h3>Range Editor</h3>
                            <p>Intuitive grid-based interface for building and editing your preflop ranges with visual feedback.</p>
                        </div>
                        <div class="showcase-item">
                            <div class="showcase-preview">
                                <div class="preview-placeholder">
                                    <div class="preview-table">
                                        <div class="table-seat">üÇ†</div>
                                        <div class="table-seat active">üÇ°</div>
                                        <div class="table-seat">üÇ†</div>
                                        <div class="table-center">POT</div>
                                    </div>
                                </div>
                            </div>
                            <h3>Practice Mode</h3>
                            <p>Realistic poker table simulation with randomized scenarios to test your range knowledge.</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Achievement Section -->
            <section class="landing-achievement">
                <!-- Floating shapes for achievement section -->
                <div class="floating-shape floating-shape-15"></div>
                <div class="floating-shape floating-shape-16"></div>
                <div class="floating-shape floating-shape-17"></div>
                
                <div class="achievement-container">
                    <div class="achievement-header">
                        <h2>Transform Your Poker Game</h2>
                        <p>Join thousands of players who've elevated their skills and increased their winnings</p>
                    </div>
                    <div class="achievement-grid">
                        <div class="achievement-card">
                            <div class="achievement-icon">üí™</div>
                            <h3>Master Complex Decisions</h3>
                            <p>Turn confusing preflop spots into confident, profitable decisions with our proven range training system.</p>
                        </div>
                        <div class="achievement-card">
                            <div class="achievement-icon">üìà</div>
                            <h3>Increase Your Winrate</h3>
                            <p>Players typically see a 15-30% improvement in preflop accuracy within their first month of focused practice.</p>
                        </div>
                        <div class="achievement-card">
                            <div class="achievement-icon">‚ö°</div>
                            <h3>Speed Up Your Learning</h3>
                            <p>Compress years of trial-and-error into weeks of targeted practice with our interactive training modules.</p>
                        </div>
                        <div class="achievement-card">
                            <div class="achievement-icon">üèÜ</div>
                            <h3>Build Lasting Confidence</h3>
                            <p>Develop unshakeable confidence at the tables through systematic practice and proven GTO-based strategies.</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Testimonials Section -->
            <section class="landing-testimonials">
                <!-- Floating shapes for testimonials section -->
                <div class="floating-shape floating-shape-18"></div>
                <div class="floating-shape floating-shape-19"></div>
                <div class="floating-shape floating-shape-24"></div>
                <div class="floating-shape floating-shape-25"></div>
                
                <div class="testimonials-container">
                    <h2>What Players Say</h2>
                    <div class="testimonials-grid">
                        <div class="testimonial-card">
                            <div class="testimonial-content">
                                <p>"This tool completely transformed my preflop game. I went from break-even to consistently profitable in just 3 months."</p>
                            </div>
                            <div class="testimonial-author">
                                <div class="author-avatar">üë®‚Äçüíº</div>
                                <div class="author-info">
                                    <div class="author-name">Mike Chen</div>
                                    <div class="author-title">Professional Player</div>
                                </div>
                            </div>
                        </div>
                        <div class="testimonial-card">
                            <div class="testimonial-content">
                                <p>"The practice mode is genius. It's like having a coach available 24/7. My decision-making speed improved dramatically."</p>
                            </div>
                            <div class="testimonial-author">
                                <div class="author-avatar">üë©‚Äçüéì</div>
                                <div class="author-info">
                                    <div class="author-name">Sarah Johnson</div>
                                    <div class="author-title">Tournament Grinder</div>
                                </div>
                            </div>
                        </div>
                        <div class="testimonial-card">
                            <div class="testimonial-content">
                                <p>"Finally, a preflop trainer that actually works. The ranges are spot-on and the interface is incredibly intuitive."</p>
                            </div>
                            <div class="testimonial-author">
                                <div class="author-avatar">üë®‚Äçüî¨</div>
                                <div class="author-info">
                                    <div class="author-name">David Rodriguez</div>
                                    <div class="author-title">Poker Coach</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Footer -->
            <footer class="landing-footer">
                <div class="footer-container">
                    <div class="footer-content">
                        <div class="footer-brand">
                            <h3>Preflop Builder</h3>
                            <p>Master your preflop ranges and dominate the tables.</p>
                        </div>
                        <div class="footer-links">
                            <div class="footer-column">
                                <h4>Product</h4>
                                <a href="#">Features</a>
                                <a href="#">Pricing</a>
                                <a href="#">Updates</a>
                            </div>
                            <div class="footer-column">
                                <h4>Support</h4>
                                <a href="#">Help Center</a>
                                <a href="#">Contact</a>
                                <a href="#">Feedback</a>
                            </div>
                            <div class="footer-column">
                                <h4>Community</h4>
                                <a href="#">Discord</a>
                                <a href="#">Twitter</a>
                                <a href="#">Blog</a>
                            </div>
                        </div>
                    </div>
                    <div class="footer-bottom">
                        <p>&copy; 2024 Preflop Builder. All rights reserved.</p>
                    </div>
                </div>
            </footer>

            <!-- Delete Confirmation Modal (Mobile Only) -->
            <div class="delete-modal-overlay" id="delete-modal-overlay">
                <div class="delete-modal">
                    <h3>Delete Session</h3>
                    <p>Are you sure you want to delete this session?</p>
                    <div class="delete-modal-actions">
                        <button class="delete-modal-btn cancel-btn" id="delete-cancel-btn">No</button>
                        <button class="delete-modal-btn confirm-btn" id="delete-confirm-btn">Yes</button>
                    </div>
                </div>
            </div>

            <!-- Session Naming Modal (Mobile Only) -->
            <div class="session-naming-modal-overlay" id="session-naming-modal-overlay">
                <div class="session-naming-modal">
                    <h3>Name your session</h3>
                    <input 
                        type="text" 
                        id="session-name-input" 
                        class="session-name-input" 
                        placeholder="Enter session name"
                        maxlength="30"
                        autocomplete="off"
                    >
                    <div class="session-naming-modal-actions">
                        <button class="session-naming-btn cancel-btn" id="session-naming-cancel-btn">Cancel</button>
                        <button class="session-naming-btn save-btn" id="session-naming-save-btn">Save</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Profile Name Edit Modal -->
        <div class="profile-name-edit-modal-overlay" id="profile-name-edit-modal-overlay">
            <div class="profile-name-edit-modal">
                <h3>Edit Profile Name</h3>
                <input 
                    type="text" 
                    id="profile-name-edit-input" 
                    class="profile-name-edit-input" 
                    placeholder="Enter your name"
                    maxlength="30"
                    autocomplete="off"
                >
                <div class="profile-name-edit-modal-actions">
                    <button class="profile-name-edit-btn cancel-btn" id="profile-name-edit-cancel-btn">Cancel</button>
                    <button class="profile-name-edit-btn save-btn" id="profile-name-edit-save-btn">Save</button>
                </div>
            </div>
        </div>

        <!-- Edit Ranges Page -->
        <section id="edit-ranges-page" class="page">
            <div class="edit-ranges-layout">
                <!-- Main Content -->
                <div class="edit-ranges-main">
                    <!-- Left Panel - Controls -->
                    <div class="left-panel">
                        <!-- Combined Position Selector -->
                        <div class="position-selector-combined">
                            <div class="position-row">
                                <div class="position-label">HERO</div>
                                <div class="position-buttons" id="hero-positions">
                                    <button class="position-btn" data-position="MP">MP</button>
                                    <button class="position-btn" data-position="CO">CO</button>
                                    <button class="position-btn active" data-position="BU">BU</button>
                                    <button class="position-btn" data-position="SB">SB</button>
                                    <button class="position-btn" data-position="BB">BB</button>
                                </div>
                            </div>
                            <div class="position-row">
                                <div class="position-label">VILLAIN</div>
                                <div class="position-buttons" id="villain-positions">
                                    <button class="position-btn" data-position="MP">MP</button>
                                    <button class="position-btn" data-position="CO">CO</button>
                                    <button class="position-btn" data-position="BU">BU</button>
                                    <button class="position-btn active" data-position="SB">SB</button>
                                    <button class="position-btn" data-position="BB">BB</button>
                                </div>
                            </div>
                        </div>

                        <!-- Action Selector -->
                        <div class="action-group">
                            <h3>SELECT ACTION</h3>
                            <div class="action-buttons" id="action-buttons">
                                <!-- Actions will be populated dynamically based on position matchup -->
                            </div>
                        </div>

                        <!-- Grid Controls moved from right panel -->
                        <div class="grid-controls">
                            <button class="grid-control-btn clean-btn">CLEAN</button>
                            <button class="grid-control-btn reset-btn">RESET</button>
                            <button class="grid-control-btn paste-btn">PASTE LAST</button>
                            <button class="grid-control-btn save-btn">SAVE TABLE</button>
                            <button class="grid-control-btn reset-defaults-btn">RESET TO DEFAULTS</button>
                        </div>
                    </div>

                    <!-- Right Panel - Grid -->
                    <div class="right-panel">
                        <!-- Dynamic Title -->
                        <div class="grid-header">
                            <h2 id="matchup-title">BU VS SB</h2>
                        </div>

                        <!-- Hand Matrix -->
                        <div class="hand-matrix-container">
                            <div class="hand-matrix" id="hand-matrix">
                                <!-- 13x13 grid will be populated by JavaScript -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Practice Page -->
        <section id="practice-page" class="page">
            <!-- Practice Configuration Panel -->
            <div id="practice-config-panel" class="practice-config-overlay hidden">
                <div class="practice-config-content">
                    <h2>Practice Configuration</h2>
                    
                    <div class="config-layout">
                        <!-- Left Panel - Settings -->
                        <div class="config-left-panel">
                            <!-- Position Selection -->
                            <div class="config-section">
                                <h3>Positions</h3>
                                <div class="config-position-selector">
                                    <div class="config-position-row">
                                        <div class="config-position-label">HERO</div>
                                        <div class="config-position-buttons" id="config-hero-positions">
                                            <button class="config-position-btn active" data-position="Any">Any</button>
                                            <button class="config-position-btn" data-position="MP">MP</button>
                                            <button class="config-position-btn" data-position="CO">CO</button>
                                            <button class="config-position-btn" data-position="BU">BU</button>
                                            <button class="config-position-btn" data-position="SB">SB</button>
                                            <button class="config-position-btn" data-position="BB">BB</button>
                                        </div>
                                    </div>
                                    <div class="config-position-row">
                                        <div class="config-position-label">VILLAIN</div>
                                        <div class="config-position-buttons" id="config-villain-positions">
                                            <button class="config-position-btn active" data-position="Any">Any</button>
                                            <button class="config-position-btn" data-position="MP">MP</button>
                                            <button class="config-position-btn" data-position="CO">CO</button>
                                            <button class="config-position-btn" data-position="BU">BU</button>
                                            <button class="config-position-btn" data-position="SB">SB</button>
                                            <button class="config-position-btn" data-position="BB">BB</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Game Type Selection -->
                            <div class="config-section">
                                <h3>Game Type</h3>
                                <div class="config-button-group" id="game-type-buttons">
                                    <button class="config-option-btn active" data-value="full-mode">Full Mode</button>
                                    <button class="config-option-btn" data-value="fold-no-fold">Fold / No Fold</button>
                                </div>
                            </div>
                            
                            <!-- Hand Start Mode -->
                            <div class="config-section">
                                <h3>How the hand starts</h3>
                                <div class="config-button-group" id="hand-start-buttons">
                                    <button class="config-option-btn active" data-value="both">Both</button>
                                    <button class="config-option-btn" data-value="early-vs-late">Early vs Late</button>
                                    <button class="config-option-btn" data-value="late-vs-early">Late vs Early</button>
                                </div>
                                <div class="config-option-hint">
                                    <span id="hand-start-hint">Both action types: OR and 3BET scenarios</span>
                                </div>
                            </div>
                            
                            <!-- Action Buttons -->
                            <div class="config-actions">
                                <button class="config-btn secondary" id="practice-cancel">Cancel</button>
                                <button class="config-btn primary" id="practice-apply">Apply</button>
                            </div>
                        </div>
                        
                        <!-- Right Panel - Hand Matrix -->
                        <div class="config-right-panel">
                            <div class="config-section">
                                <h3>Hand Selection</h3>
                                <div class="config-hand-matrix-container">
                                    <div class="config-hand-matrix" id="config-hand-matrix">
                                        <!-- Will be populated by JavaScript -->
                                    </div>
                                    <div class="matrix-controls">
                                        <button class="matrix-control-btn" id="select-all-hands">Select All</button>
                                        <button class="matrix-control-btn" id="deselect-all-hands">Deselect All</button>
                                        
                                        <div class="playable-hands-toggle">
                                            <label class="toggle-switch">
                                                <input type="checkbox" id="only-playable-hands" />
                                                <span class="toggle-slider"></span>
                                            </label>
                                            <span class="toggle-label">Only Practice Playable Hands</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="practice-layout">
                <!-- Facing Positions Display -->
                <div class="facing-positions" id="facing-positions">    
                    <span class="facing-text-mobile">Now facing:</span>
                    <span class="facing-text"><span id="current-matchup">BU vs SB</span></span>
                </div>
                
                <!-- Poker Table Container -->
                <div class="practice-table-container">
                    <!-- Horizontal Poker Table -->
                    <div class="practice-poker-table">
                        <!-- Player: Villain 3 (Top Left) -->
                        <div class="practice-player villain-3" data-position="MP">
                            <div class="player-hole-cards">
                                <div class="hole-card face-down"></div>
                                <div class="hole-card face-down"></div>
                            </div>
                            <div class="player-rectangle">
                                <div class="position-label position-label-practice">MP</div>
                                <div class="stack-amount">100</div>
                            </div>
                            <div class="player-bet-area">
                                <div class="chip-icon">ü™ô</div>
                                <div class="bet-amount"></div>
                            </div>
                        </div>

                        <!-- Player: Villain 4 (Top Right) -->
                        <div class="practice-player villain-4" data-position="CO">
                            <div class="player-hole-cards">
                                <div class="hole-card face-down"></div>
                                <div class="hole-card face-down"></div>
                            </div>
                            <div class="player-rectangle">
                                <div class="position-label position-label-practice">CO</div>
                                <div class="stack-amount">100</div>
                            </div>
                            <div class="player-bet-area">
                                <div class="chip-icon">ü™ô</div>
                                <div class="bet-amount"></div>
                            </div>
                        </div>

                        <!-- Player: Villain 1 (Bottom Left) -->
                        <div class="practice-player villain-1" data-position="SB">
                            <div class="player-hole-cards">
                                <div class="hole-card face-down"></div>
                                <div class="hole-card face-down"></div>
                            </div>
                            <div class="player-rectangle">
                                <div class="position-label position-label-practice">BB</div>
                                <div class="stack-amount">99</div>
                            </div>
                            <div class="player-bet-area">
                                <div class="chip-icon">ü™ô</div>
                                <div class="bet-amount">1</div>
                            </div>
                        </div>

                        <!-- Player: Hero (Bottom Center) -->
                        <div class="practice-player hero" data-position="BB">
                            <div class="player-hole-cards hero-cards">
                                <div class="hole-card face-up spades" data-card="As">A</div>
                                <div class="hole-card face-up hearts" data-card="Kh">K</div>
                            </div>
                            <div class="player-rectangle hero-rectangle">
                                <div class="position-label position-label-practice">SB</div>
                                <div class="stack-amount">99.5</div>
                            </div>
                            <div class="player-bet-area">
                                <div class="chip-icon">ü™ô</div>
                                <div class="bet-amount">0.5</div>
                            </div>
                        </div>

                        <!-- Player: Villain 2 (Bottom Right) -->
                        <div class="practice-player villain-2" data-position="BTN">
                            <div class="player-hole-cards">
                                <div class="hole-card face-down"></div>
                                <div class="hole-card face-down"></div>
                            </div>
                            <div class="player-rectangle">
                                <div class="position-label position-label-practice">BU</div>
                                <div class="stack-amount">97.5</div>
                            </div>
                            <div class="player-bet-area">
                                <div class="chip-icon">ü™ô</div>
                                <div class="bet-amount">2.5</div>
                            </div>
                        </div>

                        <!-- Pot Display -->
                        <div class="pot-display">
                            <div class="pot-label">POT</div>
                            <div class="pot-value">4</div>
                        </div>
                    </div>
                </div>

                <!-- Action Buttons -->
                <div class="practice-action-buttons">
                    <button class="practice-action-btn fold">Fold</button>
                    <button class="practice-action-btn no-fold" style="display: none;">No Fold</button>
                    <button class="practice-action-btn call">Call</button>
                    <button class="practice-action-btn or-fold" style="display: none;">OR/Fold</button>
                    <button class="practice-action-btn or-call" style="display: none;">OR/Call</button>
                    <button class="practice-action-btn or-4bet-fold" style="display: none;">OR/4Bet/Fold</button>
                    <button class="practice-action-btn or-4bet-call" style="display: none;">OR/4Bet/Call</button>
                    <button class="practice-action-btn three-bet-fold">3Bet/Fold</button>
                    <button class="practice-action-btn three-bet-call">3Bet/Call</button>
                    <button class="practice-action-btn three-bet-push">3Bet/Push</button>
                    
                    <!-- Voice Control Button -->
                    <button class="voice-control-btn" id="voice-toggle-btn" aria-label="Toggle voice commands" aria-pressed="false">
                        <svg class="mic-icon" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="0">
                            <rect x="9" y="2" width="6" height="11" rx="3" ry="3"></rect>
                            <path d="M19 10v2a7 7 0 0 1-14 0v-2" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path>
                            <line x1="12" x2="12" y1="19" y2="22" stroke="currentColor" stroke-width="2" stroke-linecap="round"></line>
                            <line x1="8" x2="16" y1="22" y2="22" stroke="currentColor" stroke-width="2" stroke-linecap="round"></line>
                        </svg>
                    </button>

                    <!-- Poki Assistant Button (Top Right) -->
                    <button class="poki-help-btn" id="practice-assistant-btn" aria-label="Ask Poki for help">
                        <svg class="poki-btn-icon" viewBox="0 0 64 64" fill="none">
                            <rect x="12" y="16" width="40" height="36" rx="8" fill="url(#poki-btn-grad)"/>
                            <circle cx="32" cy="6" r="4" fill="#22d3ee"/>
                            <line x1="32" y1="16" x2="32" y2="8" stroke="#a855f7" stroke-width="3" stroke-linecap="round"/>
                            <rect x="16" y="22" width="32" height="24" rx="4" fill="#1a1a2e"/>
                            <ellipse cx="24" cy="32" rx="4" ry="5" fill="#22d3ee"/>
                            <ellipse cx="40" cy="32" rx="4" ry="5" fill="#22d3ee"/>
                            <circle cx="22" cy="30" r="1.5" fill="#fff"/>
                            <circle cx="38" cy="30" r="1.5" fill="#fff"/>
                            <path d="M26 40 Q32 45 38 40" stroke="#22d3ee" stroke-width="2.5" stroke-linecap="round" fill="none"/>
                            <defs><linearGradient id="poki-btn-grad" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" stop-color="#7c3aed"/><stop offset="100%" stop-color="#a855f7"/></linearGradient></defs>
                        </svg>
                    </button>
                </div>

                <!-- Poki Hint Modal (Centered) -->
                <div id="practice-assistant-modal" class="poki-modal-overlay">
                    <div class="poki-modal">
                        <div class="poki-modal-header">
                            <div class="poki-modal-avatar">
                                <svg viewBox="0 0 64 64" fill="none">
                                    <rect x="12" y="16" width="40" height="36" rx="8" fill="url(#poki-modal-grad)"/>
                                    <circle cx="32" cy="6" r="4" fill="#22d3ee"/>
                                    <line x1="32" y1="16" x2="32" y2="8" stroke="#a855f7" stroke-width="3" stroke-linecap="round"/>
                                    <rect x="16" y="22" width="32" height="24" rx="4" fill="#1a1a2e"/>
                                    <ellipse cx="24" cy="32" rx="4" ry="5" fill="#22d3ee"/>
                                    <ellipse cx="40" cy="32" rx="4" ry="5" fill="#22d3ee"/>
                                    <circle cx="22" cy="30" r="1.5" fill="#fff"/>
                                    <circle cx="38" cy="30" r="1.5" fill="#fff"/>
                                    <path d="M26 40 Q32 45 38 40" stroke="#22d3ee" stroke-width="2.5" stroke-linecap="round" fill="none"/>
                                    <defs><linearGradient id="poki-modal-grad" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" stop-color="#7c3aed"/><stop offset="100%" stop-color="#a855f7"/></linearGradient></defs>
                                </svg>
                            </div>
                            <span class="poki-modal-title">Poki's Take</span>
                            <button class="poki-modal-close" id="close-practice-modal" aria-label="Close">√ó</button>
                        </div>
                        <div class="poki-modal-body">
                            <div class="hint-meta">
                                <span class="hint-badge position" id="hint-position">BU</span>
                                <span class="hint-badge category" id="hint-category">Pocket Pair</span>
                            </div>
                            <div class="hint-content">
                                <p class="hint-text" id="hint-text">Deal a hand and I'll give you the lowdown!</p>
                            </div>
                            <div class="hint-tip">
                                <svg class="tip-icon" viewBox="0 0 24 24" fill="none" stroke="#ffc107" stroke-width="2">
                                    <circle cx="12" cy="12" r="10"/>
                                    <line x1="12" y1="16" x2="12" y2="12"/>
                                    <line x1="12" y1="8" x2="12" y2="8"/>
                                </svg>
                                <p class="tip-text" id="hint-tip">Position is everything in poker, fam.</p>
                            </div>
                        </div>
                    </div>
                </div>



                
                <!-- History Tracker -->
                <div class="practice-history-tracker">
                    <button class="history-nav-btn prev-btn" id="history-prev-btn" disabled aria-label="Previous">
                        <svg class="arrow-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M19 12H5M12 19l-7-7 7-7"/>
                        </svg>
                    </button>
                    <div class="history-slots">
                        <div class="history-slot" data-hand="1">
                            <span class="slot-number">1</span>
                        </div>
                        <div class="history-slot" data-hand="2">
                            <span class="slot-number">2</span>
                        </div>
                        <div class="history-slot current" data-hand="3">
                            <span class="slot-number">3</span>
                        </div>
                        <div class="history-slot" data-hand="4">
                            <span class="slot-number">4</span>
                        </div>
                        <div class="history-slot" data-hand="5">
                            <span class="slot-number">5</span>
                        </div>
                    </div>
                    <button class="history-nav-btn next-btn" id="history-next-btn" disabled aria-label="Next">
                        <svg class="arrow-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M5 12h14M12 5l7 7-7 7"/>
                        </svg>
                    </button>
                </div>
                
                <!-- Sensors Setup Modal (shows only on first practice visit) -->
                <div id="sensors-setup-modal" class="sensors-setup-modal-overlay">
                    <div class="sensors-setup-modal">
                        <div class="sensors-modal-icon">üé§üì±</div>
                        <h3 class="sensors-modal-title">Enable Hands-Free Controls?</h3>
                        <p class="sensors-modal-description">
                            Use <strong>voice commands</strong> to call actions and <strong>tilt gestures</strong> to navigate hands while practicing.
                        </p>
                        <div class="sensors-modal-buttons">
                            <button id="sensors-enable-btn" class="sensors-modal-btn primary">Enable</button>
                            <button id="sensors-skip-btn" class="sensors-modal-btn secondary">No Thanks</button>
                        </div>
                    </div>
                </div>
                
                <!-- Debug Panel for Tilt (hidden by default, shows in dev) -->
                <div id="tilt-debug-panel" class="tilt-debug-panel">
                    <div class="debug-label">Tilt Debug</div>
                    <div class="debug-value">
                        <span id="tilt-gamma-value">Œ≥: 0¬∞</span>
                        <span id="tilt-beta-value">Œ≤: 0¬∞</span>
                        <span id="tilt-alpha-value">Œ±: 0¬∞</span>
                        <span id="tilt-status">Inactive</span>
                    </div>
                </div>
                
                <!-- End Session Button -->
                <div class="end-session-container">
                    <button class="end-session-btn" id="end-session-btn">End Session</button>
                </div>

                
                <!-- Hand Detail Panel (Hidden) -->
                <div id="hand-detail-panel" class="hand-detail-overlay">
                    <div class="hand-detail-content">
                        <div class="detail-header">
                            <h3>Hand Result</h3>
                            <button class="close-detail-btn" id="close-detail">&times;</button>
                        </div>
                        <div class="detail-body">
                            <!-- Left Side: Situation Info -->
                            <div class="detail-situation">
                                <div class="situation-card">
                                    <div class="situation-title">
                                        <h4>Hand Analysis</h4>
                                    </div>
                                    
                                    <div class="situation-visual">
                                        <div class="matchup-display">
                                            <div class="position-vs">
                                                <span class="hero-pos" id="detail-hero-position">BU</span>
                                                <span class="vs-text">vs</span>
                                                <span class="villain-pos" id="detail-villain-position">SB</span>
                                            </div>
                                        </div>
                                        
                                        <div class="hand-display">
                                            <div class="hand-label">Hero's Hand</div>
                                            <div class="hand-cards" id="detail-hero-hand">As Kh</div>
                                        </div>
                                    </div>
                                    
                                    <div class="actions-comparison">
                                        <div class="action-row correct-action">
                                            <div class="action-label">‚úì Correct Action</div>
                                            <div class="action-value" id="detail-correct-action">OR/Call</div>
                                        </div>
                                        <div class="action-row my-action">
                                            <div class="action-label">
                                                <img src="assets/practice_icon.png" alt="" class="action-label-icon"> My Action
                                            </div>
                                            <div class="action-value" id="detail-my-action">OR/Call</div>
                                        </div>
                                        <div class="result-indicator" id="detail-result-indicator">
                                            <span class="result-text">Correct!</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Right Side: Range Matrix -->
                            <div class="detail-range-table">
                                <h4>Range for this matchup</h4>
                                <div class="detail-hand-matrix" id="detail-hand-matrix">
                                    <!-- Will be populated with colored range -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Feedback Overlay (Hidden) -->
                <div id="practice-feedback-overlay" class="practice-feedback-overlay">
                    <div class="feedback-message" id="feedback-message">
                        <div class="feedback-main-text">Correct!</div>
                        <div class="feedback-secondary-text"></div>
                    </div>
                    <div class="feedback-particles" id="feedback-particles"></div>
                </div>
                

                <!-- Session Results Panel (Hidden) -->
                <div id="session-results-panel" class="session-results-overlay">
                    <div class="session-results-content">
                        <button class="close-results-btn" id="close-results">&times;</button>
                        
                        <!-- Dynamic Title -->
                        <div class="results-dynamic-title" id="results-dynamic-title">
                            üî• Session on Fire!
                        </div>
                        
                        <!-- Progress Ring Section -->
                        <div class="results-progress-section">
                            <div class="progress-ring-container">
                                <svg class="progress-ring" width="160" height="160">
                                    <circle class="progress-ring-circle-bg" cx="80" cy="80" r="70" stroke-width="12" fill="none"></circle>
                                    <circle class="progress-ring-circle" id="progress-ring-circle" cx="80" cy="80" r="70" stroke-width="12" fill="none" stroke-dasharray="439.8" stroke-dashoffset="439.8"></circle>
                                </svg>
                                <div class="progress-ring-text">
                                    <div class="progress-ring-value" id="accuracy-stat">0%</div>
                                    <div class="progress-ring-label"></div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Quick Stats -->
                        <div class="results-quick-stats">
                            <div class="quick-stat-item">
                                <div class="quick-stat-icon">üÉè</div>
                                <div class="quick-stat-value" id="total-hands-stat">0</div>
                                <div class="quick-stat-label">Hands</div>
                            </div>
                            <div class="quick-stat-item">
                                <div class="quick-stat-icon">‚è±Ô∏è</div>
                                <div class="quick-stat-value" id="session-time-stat">0:00</div>
                                <div class="quick-stat-label">Time</div>
                            </div>
                            <div class="quick-stat-item">
                                <div class="quick-stat-icon">üî•</div>
                                <div class="quick-stat-value" id="best-streak-stat">0</div>
                                <div class="quick-stat-label">Streak</div>
                            </div>
                        </div>
                        
                        <!-- Micro Achievements -->
                        <div class="results-achievements">
                            <div class="achievements-title">Session Highlights</div>
                            <div class="achievements-badges" id="session-badges">
                                <!-- Badges will be dynamically added here -->
                            </div>
                        </div>
                        
                        <!-- CTA Button -->
                        <div class="results-cta">
                            <button class="results-cta-btn" id="results-cta-btn">Do 5 more hands?</button>
                        </div>
                        
                        <!-- Secondary Actions -->
                        <div class="results-secondary-actions">
                            <button class="results-link-btn" id="go-to-main-btn">‚Üê Back to Home</button>
                            <button class="results-link-btn" id="new-session-btn">New Session</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Settings Pages -->
        <section id="settings-page" class="page">
            <div class="settings-container">
                <div class="settings-header">
                    <button class="back-btn" id="settings-back" aria-label="Back">
                        <svg class="back-arrow-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M19 12H5M12 19l-7-7 7-7"/>
                        </svg>
                    </button>
                    <h2>Settings</h2>
                </div>
                <div class="settings-content">
                    <div class="setting-group">
                        <h3>Language</h3>
                        <div class="setting-item language-row">
                            <div class="setting-copy">
                                <label for="language-select">App language</label>
                                <p>Currently: <span class="current-language-label" id="current-language">English</span></p>
                            </div>
                            <div class="language-select-wrapper">
                                <select id="language-select" aria-label="Select language">
                                    <option value="en">English</option>
                                    <option value="es">Espa√±ol</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="setting-group">
                        <h3>Sound & Notifications</h3>
                        <div class="setting-item toggle-row">
                            <div class="setting-copy">
                                <label for="sound-toggle">Enable Sound</label>
                                <p>Hear prompts and feedback while you practice.</p>
                            </div>
                            <label class="toggle-switch" aria-label="Enable sound">
                                <input type="checkbox" id="sound-toggle" checked>
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                        <div class="setting-item toggle-row">
                            <div class="setting-copy">
                                <label for="notifications-toggle">Enable Notifications</label>
                                <p>Get reminded about training streaks and new ranges.</p>
                            </div>
                            <label class="toggle-switch" aria-label="Enable notifications">
                                <input type="checkbox" id="notifications-toggle" checked>
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                        <div class="setting-item toggle-row">
                            <div class="setting-copy">
                                <label for="assistant-practice-toggle">Assistant in Practice Mode</label>
                                <p>Get contextual hints and post-hand feedback while practicing.</p>
                            </div>
                            <label class="toggle-switch" aria-label="Enable assistant">
                                <input type="checkbox" id="assistant-practice-toggle" checked>
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                        <div class="setting-item toggle-row">
                            <div class="setting-copy">
                                <label for="tilt-controls-toggle">Tilt Controls</label>
                                <p>Use device tilt gestures to navigate hands in practice mode.</p>
                            </div>
                            <label class="toggle-switch" aria-label="Enable tilt controls">
                                <input type="checkbox" id="tilt-controls-toggle" checked>
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                    </div>


                    <div class="setting-group">
                        <h3>Theme</h3>
                        <div class="setting-item theme-row">
                            <div class="setting-copy">
                                <p class="setting-label">Day / Night Mode</p>
                                <p>Choose the look that feels best for long study sessions.</p>
                            </div>
                            <div class="theme-switch-container" role="group" aria-label="Theme toggle">
                                <span class="theme-label">üåû Day Mode</span>
                                <button class="theme-switch" id="theme-switch" type="button">
                                    <div class="theme-switch-slider"></div>
                                </button>
                                <span class="theme-label">üåô Night Mode</span>
                            </div>
                        </div>
                    </div>

                    <div class="setting-group about-group">
                        <h3>About</h3>
                        <div class="setting-item stacked">
                            <p class="setting-label">Preflop Builder</p>
                            <p class="setting-note">Version 2.0.4 ¬∑ Training companion for confident preflop decisions.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="import-export-page" class="page">
            
            <div class="settings-container">
                <div class="settings-header">
                    <button class="back-btn" id="import-export-back" aria-label="Back">
                        <svg class="back-arrow-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M19 12H5M12 19l-7-7 7-7"/>
                        </svg>
                    </button>
                    <h2>Import/Export</h2>
                </div>
                <div class="settings-content">
                    <div class="setting-group">
                        <h3>Current Range Data Status</h3>
                        <div class="setting-item">
                            <div id="range-data-status" class="range-status-indicator">
                                <div class="status-icon">
                                    <img src="assets/ranges_icon.png" alt="" class="status-icon-img">
                                </div>
                                <div class="status-text">
                                    <div class="status-title">Loading...</div>
                                    <div class="status-description">Checking range data source...</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="setting-group">
                        <h3>Export Ranges</h3>
                        <div class="setting-item">
                            <button class="settings-btn primary" id="export-ranges-btn">Export All Ranges</button>
                            <p>Download all your saved ranges as a JSON file</p>
                        </div>
                    </div>
                    <div class="setting-group">
                        <h3>Import Ranges</h3>
                        <div class="setting-item">
                            <input type="file" accept=".json" style="display: none;" id="file-input">
                            <button class="settings-btn secondary" onclick="document.getElementById('file-input').click()">Choose File</button>
                            <p>Import ranges from a JSON file</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Profile Pages -->
        <section id="account-page" class="page">
            <div class="settings-container">
                <div class="settings-header">
                    <button class="back-btn" id="account-back" aria-label="Back">
                        <svg class="back-arrow-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M19 12H5M12 19l-7-7 7-7"/>
                        </svg>
                    </button>
                    <h2>My Account</h2>
                </div>
                <div class="settings-content">
                    <div class="setting-group">
                        <h3>Account Information</h3>
                        <div class="setting-item">
                            <label>Username</label>
                            <input type="text" value="Player123" readonly>
                        </div>
                        <div class="setting-item">
                            <label>Email</label>
                            <input type="email" value="player@example.com">
                        </div>
                    </div>
                    <div class="setting-group">
                        <h3>Password</h3>
                        <div class="setting-item">
                            <button class="settings-btn secondary">Change Password</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Profile Page -->
        <section id="profile-page" class="page">
            <div class="profile-container">
                <!-- Poki Chat Icon (Fixed Bottom Right) -->
                <button class="poki-chat-icon" id="profile-assistant-btn" aria-label="Chat with Poki">
                    <svg class="poki-icon-svg" viewBox="0 0 64 64" fill="none">
                        <rect x="12" y="16" width="40" height="36" rx="8" fill="url(#poki-profile-grad)"/>
                        <circle cx="32" cy="6" r="4" fill="#22d3ee"/>
                        <line x1="32" y1="16" x2="32" y2="8" stroke="#a855f7" stroke-width="3" stroke-linecap="round"/>
                        <rect x="16" y="22" width="32" height="24" rx="4" fill="#1a1a2e"/>
                        <ellipse cx="24" cy="32" rx="4" ry="5" fill="#22d3ee"/>
                        <ellipse cx="40" cy="32" rx="4" ry="5" fill="#22d3ee"/>
                        <circle cx="22" cy="30" r="1.5" fill="#fff"/>
                        <circle cx="38" cy="30" r="1.5" fill="#fff"/>
                        <path d="M26 40 Q32 45 38 40" stroke="#22d3ee" stroke-width="2.5" stroke-linecap="round" fill="none"/>
                        <defs><linearGradient id="poki-profile-grad" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" stop-color="#7c3aed"/><stop offset="100%" stop-color="#a855f7"/></linearGradient></defs>
                    </svg>
                </button>

                <!-- Profile Core Section -->
                <div class="profile-core">
                    <div class="profile-avatar" id="profile-avatar">
                        <img src="assets/avatarejemplo.png" alt="Avatar" class="avatar-image">
                    </div>
                    <div class="profile-name-section">
                        <h2 class="profile-name" id="profile-name">Player Name</h2>
                        <button class="profile-edit-btn" id="profile-edit-name" aria-label="Edit name">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                                <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                            </svg>
                        </button>
                    </div>
                </div>

                <!-- Skill Breakdown Section -->
                <div class="skill-breakdown-wrapper">
                    <h3 class="skill-breakdown-title">Quick Summary</h3>
                    <div class="skill-breakdown-section">
                        <div class="skill-card accuracy-card">
                            <div class="skill-icon colored-icon accent-blue-icon">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="12" cy="12" r="10"/>
                                    <circle cx="12" cy="12" r="6"/>
                                    <circle cx="12" cy="12" r="2" fill="currentColor"/>
                                </svg>
                            </div>
                            <div class="skill-label">Accuracy</div>
                            <div class="skill-value">85%</div>
                        </div>
                        <div class="skill-card speed-card">
                            <div class="skill-icon colored-icon accent-blue-icon">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2" fill="currentColor"/>
                                </svg>
                            </div>
                            <div class="skill-label">Speed</div>
                            <div class="skill-value">2.3s</div>
                        </div>
                        <div class="skill-card">
                            <div class="skill-icon colored-icon accent-blue-icon">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z" fill="currentColor"/>
                                </svg>
                            </div>
                            <div class="skill-label">Streak</div>
                            <div class="skill-value">12</div>
                        </div>
                    </div>
                </div>


                <!-- Section Groups -->
                <div class="profile-sections">
                    <!-- Achievements Preview -->
                    <div class="profile-section-card" id="achievements-preview">
                        <div class="section-header">
                            <div class="section-icon">
                                <svg viewBox="0 0 24 24" fill="none" stroke="var(--accent-blue)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M6 9H4.5a2.5 2.5 0 0 1 0-5H6"/>
                                    <path d="M18 9h1.5a2.5 2.5 0 0 0 0-5H18"/>
                                    <path d="M4 22h16"/>
                                    <path d="M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"/>
                                    <path d="M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22"/>
                                    <path d="M18 2H6v7a6 6 0 0 0 12 0V2Z"/>
                                </svg>
                            </div>
                            <h3>Achievements</h3>
                        </div>
                        <div class="section-preview achievements-preview-content">
                            <div class="last-badges-section">
                                <h4 class="last-badges-title">Last 3 Badges</h4>
                                <div class="preview-badges-large">
                                    <div class="badge-preview-item">
                                        <div class="badge-icon-large badge-svg">
                                            <svg viewBox="0 0 24 24" fill="none" stroke="var(--accent-blue)" stroke-width="1.5">
                                                <path d="M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z" fill="var(--accent-blue)" opacity="0.2"/>
                                                <path d="M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z"/>
                                            </svg>
                                        </div>
                                        <span class="badge-preview-name">First Win</span>
                                    </div>
                                    <div class="badge-preview-item">
                                        <div class="badge-icon-large badge-svg">
                                            <svg viewBox="0 0 24 24" fill="none" stroke="var(--accent-blue)" stroke-width="1.5">
                                                <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2" fill="var(--accent-blue)" opacity="0.2"/>
                                                <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/>
                                            </svg>
                                        </div>
                                        <span class="badge-preview-name">10 Sessions</span>
                                    </div>
                                    <div class="badge-preview-item">
                                        <div class="badge-icon-large badge-svg">
                                            <svg viewBox="0 0 24 24" fill="none" stroke="var(--accent-blue)" stroke-width="1.5">
                                                <path d="M12 2L2 7l10 5 10-5-10-5z" fill="var(--accent-blue)" opacity="0.3"/>
                                                <path d="M2 17l10 5 10-5"/>
                                                <path d="M2 12l10 5 10-5"/>
                                            </svg>
                                        </div>
                                        <span class="badge-preview-name">100 Hands</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="section-arrow">
                            <svg class="arrow-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="var(--accent-blue)" stroke-width="3" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M5 12h14M12 5l7 7-7 7"/>
                            </svg>
                        </div>
                    </div>

                    <!-- Player DNA Preview -->
                    <div class="profile-section-card" id="player-dna-preview">
                        <div class="section-header">
                            <div class="section-icon">
                                <svg viewBox="0 0 24 24" fill="none" stroke="var(--accent-blue)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M2 15c6.667-6 13.333 0 20-6"/>
                                    <path d="M9 22c1.798-1.998 2.518-3.995 2.807-5.993"/>
                                    <path d="M15 2c-1.798 1.998-2.518 3.995-2.807 5.993"/>
                                    <path d="M17 6l-2.5-2.5"/>
                                    <path d="M14 8l-1.5-1.5"/>
                                    <path d="M7 18l2.5 2.5"/>
                                    <path d="M10 16l1.5 1.5"/>
                                </svg>
                            </div>
                            <h3>Player DNA</h3>
                        </div>
                        <div class="section-preview dna-preview-redesign">
                            <div class="dna-spectrum">
                                <div class="spectrum-bar tight-loose">
                                    <div class="spectrum-labels">
                                        <span class="spectrum-label-left">Tight</span>
                                        <span class="spectrum-label-right">Loose</span>
                                    </div>
                                    <div class="spectrum-track">
                                        <div class="spectrum-indicator" style="left: 35%">
                                            <span class="indicator-value">35%</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="spectrum-bar passive-aggressive">
                                    <div class="spectrum-labels">
                                        <span class="spectrum-label-left">Passive</span>
                                        <span class="spectrum-label-right">Aggressive</span>
                                    </div>
                                    <div class="spectrum-track">
                                        <div class="spectrum-indicator aggressive" style="left: 75%">
                                            <span class="indicator-value">75%</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="dna-positions-badges">
                                <div class="position-badge best">
                                    <span class="position-badge-icon">
                                        <svg viewBox="0 0 24 24" fill="var(--accent-blue)" stroke="var(--accent-blue)" stroke-width="1">
                                            <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/>
                                        </svg>
                                    </span>
                                    <span class="position-badge-label">Best</span>
                                    <span class="position-badge-value">BU</span>
                                </div>
                                <div class="position-badge worst">
                                    <span class="position-badge-icon">
                                        <svg viewBox="0 0 24 24" fill="none" stroke="#FF5722" stroke-width="2">
                                            <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/>
                                            <line x1="12" y1="9" x2="12" y2="13"/>
                                            <line x1="12" y1="17" x2="12.01" y2="17"/>
                                        </svg>
                                    </span>
                                    <span class="position-badge-label">Weak</span>
                                    <span class="position-badge-value">SB</span>
                                </div>
                            </div>
                        </div>
                        <div class="section-arrow">
                            <svg class="arrow-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="var(--accent-blue)" stroke-width="3" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M5 12h14M12 5l7 7-7 7"/>
                            </svg>
                        </div>
                    </div>

                    <!-- Activity Calendar Preview -->
                    <div class="profile-section-card" id="activity-calendar-preview">
                        <div class="section-header">
                            <div class="section-icon">
                                <svg viewBox="0 0 24 24" fill="none" stroke="var(--accent-blue)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
                                    <line x1="16" y1="2" x2="16" y2="6"/>
                                    <line x1="8" y1="2" x2="8" y2="6"/>
                                    <line x1="3" y1="10" x2="21" y2="10"/>
                                    <path d="M8 14h.01"/>
                                    <path d="M12 14h.01"/>
                                    <path d="M16 14h.01"/>
                                    <path d="M8 18h.01"/>
                                    <path d="M12 18h.01"/>
                                    <path d="M16 18h.01"/>
                                </svg>
                            </div>
                            <h3>Activity Calendar</h3>
                        </div>
                        <div class="section-preview calendar-preview-content">
                            <div class="week-circles">
                                <div class="day-circle active completed">
                                    <span class="day-number">18</span>
                                </div>
                                <div class="day-circle active completed">
                                    <span class="day-number">19</span>
                                </div>
                                <div class="day-circle">
                                    <span class="day-number">20</span>
                                </div>
                                <div class="day-circle active completed">
                                    <span class="day-number">21</span>
                                </div>
                                <div class="day-circle active completed">
                                    <span class="day-number">22</span>
                                </div>
                                <div class="day-circle active completed">
                                    <span class="day-number">23</span>
                                </div>
                                <div class="day-circle today">
                                    <span class="day-number">24</span>
                                </div>
                            </div>
                        </div>
                        <div class="section-arrow">
                            <svg class="arrow-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="var(--accent-blue)" stroke-width="3" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M5 12h14M12 5l7 7-7 7"/>
                            </svg>
                        </div>
                    </div>

                    <!-- Personal Goals Preview -->
                    <div class="profile-section-card" id="personal-goals-preview">
                        <div class="section-header">
                            <div class="section-icon">
                                <svg viewBox="0 0 24 24" fill="none" stroke="var(--accent-blue)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                                </svg>
                            </div>
                            <h3>Personal Goals</h3>
                        </div>
                        <div class="section-preview goals-preview-content">
                            <div class="goal-preview-item">
                                <div class="goal-preview-label">
                                    <span class="goal-svg-icon">
                                        <svg viewBox="0 0 24 24" fill="none" stroke="var(--accent-blue)" stroke-width="2">
                                            <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
                                            <line x1="16" y1="2" x2="16" y2="6"/>
                                            <line x1="8" y1="2" x2="8" y2="6"/>
                                            <line x1="3" y1="10" x2="21" y2="10"/>
                                        </svg>
                                    </span>
                                    <span>Practice Days</span>
                                </div>
                                <div class="goal-preview-bar-full">
                                    <div class="goal-preview-progress-full" style="width: 66.6%"></div>
                                    <span class="goal-text-centered">2/3</span>
                                </div>
                            </div>
                            <div class="goal-preview-item">
                                <div class="goal-preview-label">
                                    <span class="goal-svg-icon">
                                        <svg viewBox="0 0 24 24" fill="none" stroke="var(--accent-blue)" stroke-width="2">
                                            <rect x="2" y="4" width="6" height="8" rx="1"/>
                                            <rect x="9" y="4" width="6" height="8" rx="1"/>
                                            <path d="M4 8h2"/>
                                            <path d="M11 6v4"/>
                                            <path d="M13 8h1"/>
                                            <path d="M17 4h5l-1.5 3L22 10h-5"/>
                                        </svg>
                                    </span>
                                    <span>Hands Played</span>
                                </div>
                                <div class="goal-preview-bar-full">
                                    <div class="goal-preview-progress-full" style="width: 45%"></div>
                                    <span class="goal-text-centered">45/100</span>
                                </div>
                            </div>
                        </div>
                        <div class="section-arrow">
                            <svg class="arrow-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="var(--accent-blue)" stroke-width="3" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M5 12h14M12 5l7 7-7 7"/>
                            </svg>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Avatar Selection Page -->
        <section id="avatar-selection-page" class="page">
            <div class="settings-container">
                <div class="settings-header">
                    <button class="back-btn" id="avatar-back" aria-label="Back">
                        <svg class="back-arrow-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M19 12H5M12 19l-7-7 7-7"/>
                        </svg>
                    </button>
                    <h2>Choose Avatar</h2>
                </div>
                <div class="settings-content">
                    <div class="avatar-grid">
                        <div class="avatar-option">
                            <img src="assets/logosinfondo500.png" alt="Avatar 1">
                        </div>
                        <div class="avatar-option">
                            <img src="assets/logogris1024.png" alt="Avatar 2">
                        </div>
                        <div class="avatar-option">
                            <img src="assets/logoamarillo1024.png" alt="Avatar 3">
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Profile Achievements Page -->
        <section id="profile-achievements-page" class="page">
            <div class="settings-container">
                <div class="settings-header">
                    <button class="back-btn" id="achievements-back" aria-label="Back">
                        <svg class="back-arrow-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M19 12H5M12 19l-7-7 7-7"/>
                        </svg>
                    </button>
                    <h2>Achievements</h2>
                </div>
                <div class="settings-content">
                    <div class="achievements-section">
                        <h3>Badges</h3>
                        <div class="badges-grid">
                            <div class="badge-card earned" data-badge="first-win">
                                <div class="badge-inner">
                                    <div class="badge-front">
                                        <div class="badge-large">
                                            <svg viewBox="0 0 24 24" fill="none" stroke="#4ade80" stroke-width="1.5">
                                                <path d="M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z" stroke-linecap="round" stroke-linejoin="round"/>
                                            </svg>
                                        </div>
                                        <span>First Win</span>
                                    </div>
                                    <div class="badge-back">
                                        <span class="badge-name">First Win</span>
                                        <p>Complete your first session with 80%+ accuracy</p>
                                    </div>
                                </div>
                            </div>
                            <div class="badge-card earned" data-badge="10-sessions">
                                <div class="badge-inner">
                                    <div class="badge-front">
                                        <div class="badge-large">
                                            <svg viewBox="0 0 24 24" fill="none" stroke="#60a5fa" stroke-width="1.5">
                                                <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14" stroke-linecap="round" stroke-linejoin="round"/>
                                                <polyline points="22 4 12 14.01 9 11.01" stroke-linecap="round" stroke-linejoin="round"/>
                                            </svg>
                                        </div>
                                        <span>10 Sessions</span>
                                    </div>
                                    <div class="badge-back">
                                        <span class="badge-name">10 Sessions</span>
                                        <p>Complete 10 practice sessions</p>
                                    </div>
                                </div>
                            </div>
                            <div class="badge-card earned" data-badge="100-hands">
                                <div class="badge-inner">
                                    <div class="badge-front">
                                        <div class="badge-large">
                                            <svg viewBox="0 0 24 24" fill="none" stroke="#22d3ee" stroke-width="1.5">
                                                <path d="M12 2L2 7l10 5 10-5-10-5z" stroke-linecap="round" stroke-linejoin="round"/>
                                                <path d="M2 17l10 5 10-5" stroke-linecap="round" stroke-linejoin="round"/>
                                                <path d="M2 12l10 5 10-5" stroke-linecap="round" stroke-linejoin="round"/>
                                            </svg>
                                        </div>
                                        <span>100 Hands</span>
                                    </div>
                                    <div class="badge-back">
                                        <span class="badge-name">100 Hands</span>
                                        <p>Practice 100 total hands</p>
                                    </div>
                                </div>
                            </div>
                            <div class="badge-card" data-badge="sharpshooter">
                                <div class="badge-inner">
                                    <div class="badge-front">
                                        <div class="badge-large">
                                            <svg viewBox="0 0 24 24" fill="none" stroke="#f472b6" stroke-width="1.5">
                                                <circle cx="12" cy="12" r="10"/>
                                                <circle cx="12" cy="12" r="6"/>
                                                <circle cx="12" cy="12" r="2"/>
                                                <line x1="22" y1="12" x2="18" y2="12"/>
                                                <line x1="6" y1="12" x2="2" y2="12"/>
                                                <line x1="12" y1="6" x2="12" y2="2"/>
                                                <line x1="12" y1="22" x2="12" y2="18"/>
                                            </svg>
                                        </div>
                                        <span>Sharpshooter</span>
                                    </div>
                                    <div class="badge-back">
                                        <span class="badge-name">Sharpshooter</span>
                                        <p>Get 95% accuracy with 50+ hands</p>
                                    </div>
                                </div>
                            </div>
                            <div class="badge-card" data-badge="grinder">
                                <div class="badge-inner">
                                    <div class="badge-front">
                                        <div class="badge-large">
                                            <svg viewBox="0 0 24 24" fill="none" stroke="#fbbf24" stroke-width="1.5">
                                                <path d="M12 2v20M2 12h20" stroke-linecap="round" stroke-linejoin="round"/>
                                                <path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z" stroke-linecap="round" stroke-linejoin="round"/>
                                            </svg>
                                        </div>
                                        <span>Grinder</span>
                                    </div>
                                    <div class="badge-back">
                                        <span class="badge-name">Grinder</span>
                                        <p>Play 1000 hands total</p>
                                    </div>
                                </div>
                            </div>
                            <div class="badge-card locked" data-badge="perfectionist">
                                <div class="badge-inner">
                                    <div class="badge-front">
                                        <div class="badge-large">
                                            <svg viewBox="0 0 24 24" fill="none" stroke="#94a3b8" stroke-width="1.5">
                                                <circle cx="12" cy="8" r="7" stroke-linecap="round" stroke-linejoin="round"/>
                                                <polyline points="8.21 13.89 7 23 12 20 17 23 15.79 13.88" stroke-linecap="round" stroke-linejoin="round"/>
                                            </svg>
                                        </div>
                                        <span>Perfectionist</span>
                                    </div>
                                    <div class="badge-back">
                                        <span class="badge-name">Perfectionist</span>
                                        <p>100% accuracy in 25+ hand session</p>
                                    </div>
                                </div>
                            </div>
                            <div class="badge-card locked" data-badge="streak-master">
                                <div class="badge-inner">
                                    <div class="badge-front">
                                        <div class="badge-large">
                                            <svg viewBox="0 0 24 24" fill="none" stroke="#94a3b8" stroke-width="1.5">
                                                <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z" stroke-linecap="round" stroke-linejoin="round"/>
                                            </svg>
                                        </div>
                                        <span>Streak Master</span>
                                    </div>
                                    <div class="badge-back">
                                        <span class="badge-name">Streak Master</span>
                                        <p>7-day practice streak</p>
                                    </div>
                                </div>
                            </div>
                            <div class="badge-card locked" data-badge="range-expert">
                                <div class="badge-inner">
                                    <div class="badge-front">
                                        <div class="badge-large">
                                            <svg viewBox="0 0 24 24" fill="none" stroke="#94a3b8" stroke-width="1.5">
                                                <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                                                <path d="M3 9h18M9 21V9"/>
                                            </svg>
                                        </div>
                                        <span>Range Expert</span>
                                    </div>
                                    <div class="badge-back">
                                        <span class="badge-name">Range Expert</span>
                                        <p>Master all positions at 90%+</p>
                                    </div>
                                </div>
                            </div>
                            <div class="badge-card locked" data-badge="night-owl">
                                <div class="badge-inner">
                                    <div class="badge-front">
                                        <div class="badge-large">
                                            <svg viewBox="0 0 24 24" fill="none" stroke="#94a3b8" stroke-width="1.5">
                                                <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" stroke-linecap="round" stroke-linejoin="round"/>
                                            </svg>
                                        </div>
                                        <span>Night Owl</span>
                                    </div>
                                    <div class="badge-back">
                                        <span class="badge-name">Night Owl</span>
                                        <p>Practice after midnight</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="timeline-section">
                        <h3>Timeline</h3>
                        <div class="timeline-list">
                            <div class="timeline-item">
                                <div class="timeline-date">Nov 20, 2025</div>
                                <div class="timeline-content">Earned "First Win" badge</div>
                            </div>
                            <div class="timeline-item">
                                <div class="timeline-date">Nov 18, 2025</div>
                                <div class="timeline-content">Completed 10th session</div>
                            </div>
                            <div class="timeline-item">
                                <div class="timeline-date">Nov 15, 2025</div>
                                <div class="timeline-content">Started journey</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Profile Player DNA Page -->
        <section id="profile-player-dna-page" class="page">
            <div class="settings-container">
                <div class="settings-header">
                    <button class="back-btn" id="player-dna-back" aria-label="Back">
                        <svg class="back-arrow-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M19 12H5M12 19l-7-7 7-7"/>
                        </svg>
                    </button>
                    <h2>Player DNA</h2>
                </div>
                <div class="settings-content">
                    <div class="dna-overview-card">
                        <div class="dna-card-header">
                            <h3>Poker Personality</h3>
                            <div class="dna-badge">New!</div>
                        </div>
                        <div class="dna-visual-chart">
                            <div class="dna-trait-row">
                                <div class="trait-label">Solid</div>
                                <div class="trait-bar-container">
                                    <div class="trait-bar-fill solid-fill" style="width: 75%"></div>
                                </div>
                                <div class="trait-value">75%</div>
                            </div>
                            <div class="dna-trait-row">
                                <div class="trait-label">Aggressive</div>
                                <div class="trait-bar-container">
                                    <div class="trait-bar-fill aggro-fill" style="width: 60%"></div>
                                </div>
                                <div class="trait-value">60%</div>
                            </div>
                            <div class="dna-trait-row">
                                <div class="trait-label">Intuitive</div>
                                <div class="trait-bar-container">
                                    <div class="trait-bar-fill intuitive-fill" style="width: 40%"></div>
                                </div>
                                <div class="trait-value">40%</div>
                            </div>
                        </div>
                    </div>

                    <div class="dna-mastery-grid">
                        <h3>Positional Mastery</h3>
                        <div class="mastery-cards">
                            <div class="mastery-card bu-card">
                                <div class="mastery-circle">
                                    <svg viewBox="0 0 36 36" class="circular-chart">
                                        <path class="circle-bg" d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831" />
                                        <path class="circle" stroke-dasharray="92, 100" d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831" />
                                        <text x="18" y="20.35" class="percentage">92%</text>
                                    </svg>
                                </div>
                                <span>Button</span>
                            </div>
                            <div class="mastery-card co-card">
                                <div class="mastery-circle">
                                    <svg viewBox="0 0 36 36" class="circular-chart">
                                        <path class="circle-bg" d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831" />
                                        <path class="circle" stroke-dasharray="85, 100" d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831" />
                                        <text x="18" y="20.35" class="percentage">85%</text>
                                    </svg>
                                </div>
                                <span>CO</span>
                            </div>
                            <div class="mastery-card mp-card">
                                <div class="mastery-circle">
                                    <svg viewBox="0 0 36 36" class="circular-chart">
                                        <path class="circle-bg" d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831" />
                                        <path class="circle" stroke-dasharray="78, 100" d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831" />
                                        <text x="18" y="20.35" class="percentage">78%</text>
                                    </svg>
                                </div>
                                <span>MP</span>
                            </div>
                            <div class="mastery-card blinds-card">
                                <div class="mastery-circle">
                                    <svg viewBox="0 0 36 36" class="circular-chart">
                                        <path class="circle-bg" d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831" />
                                        <path class="circle" stroke-dasharray="68, 100" d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831" />
                                        <text x="18" y="20.35" class="percentage">68%</text>
                                    </svg>
                                </div>
                                <span>Blinds</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Profile Activity Calendar Page -->
        <section id="profile-activity-calendar-page" class="page">
            <div class="calendar-page-container">
                <div class="settings-header">
                    <button class="back-btn" id="activity-calendar-back" aria-label="Back">
                        <svg class="back-arrow-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M19 12H5M12 19l-7-7 7-7"/>
                        </svg>
                    </button>
                    <h2>Activity Calendar</h2>
                </div>
                
                <div class="calendar-wrapper">
                    <!-- Calendar Navigation Header -->
                    <div class="calendar-header">
                        <button class="calendar-nav-btn" id="calendar-prev" aria-label="Previous month">
                            <svg class="arrow-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M19 12H5M12 19l-7-7 7-7"/>
                            </svg>
                        </button>
                        <div class="calendar-month-year">
                            <h3 id="calendar-month" class="month-name"></h3>
                            <span id="calendar-year" class="year-name"></span>
                        </div>
                        <button class="calendar-nav-btn" id="calendar-next" aria-label="Next month">
                            <svg class="arrow-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M5 12h14M12 5l7 7-7 7"/>
                            </svg>
                        </button>
                    </div>

                    <!-- Calendar Container with Slide Animation -->
                    <div class="calendar-container-wrapper">
                        <div class="calendar-container" id="calendar-container">
                            <div class="calendar-grid-wrapper">
                                <div class="calendar-weekdays">
                                    <div class="weekday">S</div>
                                    <div class="weekday">M</div>
                                    <div class="weekday">T</div>
                                    <div class="weekday">W</div>
                                    <div class="weekday">T</div>
                                    <div class="weekday">F</div>
                                    <div class="weekday">S</div>
                                </div>
                                <div class="calendar-days-grid" id="calendar-days-grid">
                                    <!-- Calendar days will be generated by JavaScript -->
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Activity Stats Cards -->
                    <div class="calendar-stats-grid">
                        <div class="calendar-stat-card">
                            <div class="stat-icon">üìÖ</div>
                            <div class="stat-content">
                                <div class="stat-value" id="sessions-this-week">0</div>
                                <div class="stat-label">Sessions this week</div>
                            </div>
                        </div>
                        <div class="calendar-stat-card">
                            <div class="stat-icon">üÉè</div>
                            <div class="stat-content">
                                <div class="stat-value" id="hands-played">0</div>
                                <div class="stat-label">Hands played</div>
                            </div>
                        </div>
                        <div class="calendar-stat-card">
                            <div class="stat-icon">üî•</div>
                            <div class="stat-content">
                                <div class="stat-value" id="current-streak">0</div>
                                <div class="stat-label">Current streak</div>
                            </div>
                        </div>
                        <div class="calendar-stat-card">
                            <div class="stat-icon">‚≠ê</div>
                            <div class="stat-content">
                                <div class="stat-value" id="best-streak">0</div>
                                <div class="stat-label">Best streak</div>
                            </div>
                        </div>
                    </div>

                    <!-- Legend -->
                    <div class="calendar-legend">
                        <div class="legend-item">
                            <div class="legend-color today-color"></div>
                            <span>Today</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color active-color"></div>
                            <span>Practice day</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color empty-color"></div>
                            <span>No activity</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Profile Personal Goals Page -->
        <section id="profile-personal-goals-page" class="page">
            <div class="settings-container">
                <div class="settings-header">
                    <button class="back-btn" id="personal-goals-back" aria-label="Back">
                        <svg class="back-arrow-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M19 12H5M12 19l-7-7 7-7"/>
                        </svg>
                    </button>
                    <h2>Personal Goals</h2>
                </div>
                <div class="settings-content goals-page-content">
                    <!-- Two Column Goals Row -->
                    <div class="goals-row-container">
                        <!-- Practice Days Column -->
                        <div class="goal-column">
                            <div class="goal-column-header">
                                <div class="goal-column-icon">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="var(--accent-blue)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
                                        <line x1="16" y1="2" x2="16" y2="6"/>
                                        <line x1="8" y1="2" x2="8" y2="6"/>
                                        <line x1="3" y1="10" x2="21" y2="10"/>
                                    </svg>
                                </div>
                                <h3>Practice Days</h3>
                            </div>
                            
                            <div class="goal-column-value-section">
                                <div class="goal-column-controls">
                                    <button class="goal-column-btn" id="goal-days-minus">
                                        <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M5 12h14"/></svg>
                                    </button>
                                    <div class="goal-column-value" id="goal-days-value">3</div>
                                    <button class="goal-column-btn" id="goal-days-plus">
                                        <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M12 5v14M5 12h14"/></svg>
                                    </button>
                                </div>
                                <span class="goal-column-label">days / week</span>
                            </div>
                            
                            <div class="goal-column-progress">
                                <div class="goal-progress-ring" data-progress="66">
                                    <svg viewBox="0 0 100 100">
                                        <circle class="progress-ring-bg" cx="50" cy="50" r="42"/>
                                        <circle class="progress-ring-fill days-fill" cx="50" cy="50" r="42" style="stroke-dashoffset: calc(264 - (264 * 66 / 100))"/>
                                    </svg>
                                    <div class="progress-ring-text">
                                        <span class="progress-current">2</span>
                                        <span class="progress-separator">/</span>
                                        <span class="progress-target">3</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="goal-column-status on-track">
                                <svg viewBox="0 0 24 24" width="14" height="14" fill="none" stroke="currentColor" stroke-width="2.5">
                                    <polyline points="20 6 9 17 4 12"/>
                                </svg>
                                On Track
                            </div>
                        </div>
                        
                        <!-- Hands Played Column -->
                        <div class="goal-column">
                            <div class="goal-column-header">
                                <div class="goal-column-icon">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="var(--accent-blue)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <path d="M7 11V7a5 5 0 0 1 10 0v4"/>
                                        <rect x="3" y="11" width="18" height="11" rx="2" ry="2"/>
                                    </svg>
                                </div>
                                <h3>Hands Played</h3>
                            </div>
                            
                            <div class="goal-column-value-section">
                                <div class="goal-column-controls">
                                    <button class="goal-column-btn" id="goal-hands-minus">
                                        <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M5 12h14"/></svg>
                                    </button>
                                    <div class="goal-column-value" id="goal-hands-value">100</div>
                                    <button class="goal-column-btn" id="goal-hands-plus">
                                        <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M12 5v14M5 12h14"/></svg>
                                    </button>
                                </div>
                                <span class="goal-column-label">hands / week</span>
                            </div>
                            
                            <div class="goal-column-progress">
                                <div class="goal-progress-ring" data-progress="45">
                                    <svg viewBox="0 0 100 100">
                                        <circle class="progress-ring-bg" cx="50" cy="50" r="42"/>
                                        <circle class="progress-ring-fill hands-fill" cx="50" cy="50" r="42" style="stroke-dashoffset: calc(264 - (264 * 45 / 100))"/>
                                    </svg>
                                    <div class="progress-ring-text">
                                        <span class="progress-current">45</span>
                                        <span class="progress-separator">/</span>
                                        <span class="progress-target">100</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="goal-column-status needs-work">
                                <svg viewBox="0 0 24 24" width="14" height="14" fill="none" stroke="currentColor" stroke-width="2.5">
                                    <circle cx="12" cy="12" r="10"/>
                                    <line x1="12" y1="8" x2="12" y2="12"/>
                                    <line x1="12" y1="16" x2="12.01" y2="16"/>
                                </svg>
                                Needs Work
                            </div>
                        </div>
                    </div>

                    <!-- Creative Bottom Content -->
                    <div class="goals-extra-content">
                        <!-- Current Streak Card -->
                        <div class="streak-card">
                            <div class="streak-flame">
                                <svg viewBox="0 0 24 24" fill="none">
                                    <path d="M12 2C8 6 4 9 4 14c0 4.4 3.6 8 8 8s8-3.6 8-8c0-5-4-8-8-12z" fill="url(#flame-gradient)" stroke="none"/>
                                    <path d="M12 9c-2 2-3 4-3 6 0 1.7 1.3 3 3 3s3-1.3 3-3c0-2-1-4-3-6z" fill="#FFD700"/>
                                    <defs>
                                        <linearGradient id="flame-gradient" x1="50%" y1="100%" x2="50%" y2="0%">
                                            <stop offset="0%" stop-color="#ff6b35"/>
                                            <stop offset="50%" stop-color="#ff9500"/>
                                            <stop offset="100%" stop-color="#FFD700"/>
                                        </linearGradient>
                                    </defs>
                                </svg>
                            </div>
                            <div class="streak-info">
                                <span class="streak-count">5</span>
                                <span class="streak-label">Day Streak</span>
                            </div>
                            <div class="streak-best">
                                <span class="streak-best-label">Best</span>
                                <span class="streak-best-value">12 days</span>
                            </div>
                        </div>

                        <!-- Weekly Insights -->
                        <div class="weekly-insights-card">
                            <div class="insights-header">
                                <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="var(--accent-blue)" stroke-width="2">
                                    <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/>
                                    <polyline points="3.27 6.96 12 12.01 20.73 6.96"/>
                                    <line x1="12" y1="22.08" x2="12" y2="12"/>
                                </svg>
                                <h4>Weekly Insights</h4>
                            </div>
                            <div class="insights-grid">
                                <div class="insight-item">
                                    <span class="insight-value accent">+23%</span>
                                    <span class="insight-label">vs Last Week</span>
                                </div>
                                <div class="insight-item">
                                    <span class="insight-value">4.2</span>
                                    <span class="insight-label">Avg. Sessions</span>
                                </div>
                                <div class="insight-item">
                                    <span class="insight-value">78%</span>
                                    <span class="insight-label">Goal Rate</span>
                                </div>
                            </div>
                        </div>

                        <!-- Motivational Quote -->
                        <div class="motivation-card">
                            <div class="motivation-quote-mark">"</div>
                            <p class="motivation-text">Consistency beats intensity. Every hand you practice is a step toward mastery.</p>
                            <div class="motivation-author">
                                <span class="motivation-dash">‚Äî</span>
                                <span>Poker Wisdom</span>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </section>

        <!-- Poki Chat Panel (Large Modal) -->
        <div id="assistant-chat-panel" class="poki-chat-overlay">
            <div class="poki-chat-panel">
                <div class="poki-chat-header">
                    <div class="poki-chat-avatar">
                        <svg viewBox="0 0 64 64" fill="none">
                            <rect x="12" y="16" width="40" height="36" rx="8" fill="url(#poki-chat-grad)"/>
                            <circle cx="32" cy="6" r="4" fill="#22d3ee"/>
                            <line x1="32" y1="16" x2="32" y2="8" stroke="#a855f7" stroke-width="3" stroke-linecap="round"/>
                            <rect x="16" y="22" width="32" height="24" rx="4" fill="#1a1a2e"/>
                            <ellipse cx="24" cy="32" rx="4" ry="5" fill="#22d3ee"/>
                            <ellipse cx="40" cy="32" rx="4" ry="5" fill="#22d3ee"/>
                            <circle cx="22" cy="30" r="1.5" fill="#fff"/>
                            <circle cx="38" cy="30" r="1.5" fill="#fff"/>
                            <path d="M26 40 Q32 45 38 40" stroke="#22d3ee" stroke-width="2.5" stroke-linecap="round" fill="none"/>
                            <defs><linearGradient id="poki-chat-grad" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" stop-color="#7c3aed"/><stop offset="100%" stop-color="#a855f7"/></linearGradient></defs>
                        </svg>
                    </div>
                    <div class="poki-chat-title-section">
                        <span class="poki-chat-title">Poki</span>
                        <span class="poki-chat-subtitle">Your poker homie</span>
                    </div>
                    <button class="poki-chat-close" id="close-profile-chat" aria-label="Close">√ó</button>
                </div>
                <div class="poki-chat-messages" id="chat-messages-container">
                    <!-- Messages rendered by JavaScript -->
                </div>
                <div class="poki-chat-input-area">
                    <input type="text" id="poki-chat-input" placeholder="Ask me anything about poker..." autocomplete="off">
                    <button id="poki-send-btn" aria-label="Send message">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <line x1="22" y1="2" x2="11" y2="13"></line>
                            <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
                        </svg>
                    </button>
                </div>
            </div>
        </div>

    </main>


    <!-- Bottom Navigation Bar (Mobile) -->
    <nav class="bottom-nav" id="bottom-nav">
        <button class="bottom-nav-item" id="bottom-nav-practice" data-page="practice-page" aria-label="Practice">
            <svg class="nav-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <circle cx="12" cy="12" r="10"></circle>
                <circle cx="12" cy="12" r="6"></circle>
                <circle cx="12" cy="12" r="2"></circle>
            </svg>
            <span class="nav-label">Practice</span>
        </button>
        
        <button class="bottom-nav-item active" id="bottom-nav-home" data-page="landing-page" aria-label="Home">
            <svg class="nav-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                <polyline points="9 22 9 12 15 12 15 22"></polyline>
            </svg>
            <span class="nav-label">Home</span>
        </button>
        
        <button class="bottom-nav-item" id="bottom-nav-profile" data-page="profile-page" aria-label="Profile">
            <svg class="nav-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                <circle cx="12" cy="7" r="4"></circle>
            </svg>
            <span class="nav-label">Profile</span>
        </button>
    </nav>

    <script src="js/voice-commands.js?v=1.0.0"></script>
    <script src="js/tilt-controller.js?v=1.0.0"></script>
    <script src="js/rule-engine.js?v=1.0.0"></script>
    <script src="js/stats-tracker.js?v=1.0.0"></script>
    <script src="js/poki-ai.js?v=1.2.0"></script>
    <script src="js/assistant.js?v=1.0.0"></script>
    <script src="js/main.js?v=2.0.4"></script>


</body>

</html>
